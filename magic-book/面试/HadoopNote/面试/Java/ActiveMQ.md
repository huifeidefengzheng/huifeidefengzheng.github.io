# ActiveMQ

Q1：消息中间件产生的背景

在网络通讯中，Http请求默认采用的是同步请求方式，基于请求与相应的模式
当客户端与服务器进行通讯时，客户端调用服务端接口，必须等待服务端完成处理后返回结果给客户端，才能继续执行。
如果服务器端发生网络延迟或者不可达的情况，客户端会受到影响，严重情况下会发生雪崩现象。

Q2：Http协议同步接口调用失败了怎么做？
一般会有一定的补偿机制，也就是重试。重试多次仍失败后会将错误信息输出到日志，并通过一定机制进行处理，如邮件通知等。
Q3：消息队列异步通讯与同步通讯区别
在JMS中，消息的产生和消息是异步的。对于消费者来说，JMS的消息者可以通过同步和异步两种方式来消费消息。
同步是订阅者或接收者调用receive方法来接收消息，receive方法在能够接收到消息之前（或超时之前）将一直阻塞。
异步是订阅者或接收者可以注册为一个消息监听器。当消息到达之后，系统自动调用监听器的onMessage方法。

Q4：JMS消息通讯模型有那些
点对点模式（一对一模式）和发布订阅模式（一对多模式）
点对点模式时生产者发送一条消息到queue，只有一个消费者能够收到
发布订阅模式时发布者发送消息到topic，只有订阅了topic的订阅者才会收到消息

Q5：消息中间应用场景
异步处理
应用解耦
流量削锋
消息通讯
Q6：发布订阅与点对点通讯的区别
点对点通讯使用的是Queue（队列），只能保证一个消费者进行消费，如果消费者是集群环境下，会均摊消费。
发布订阅使用的是Topic（主题），只要是订阅了的消费者都可以收到消息，并且只能收到订阅后的消息、订阅之前的消息无法获取。
Q7：如何保证JMS可靠消息
可以使用手动签收的形式或者事务的形式标记消息已被消费来保证消息的可靠性，一般情况下用手动签收的形式比事务形式可靠。

Q8：ActiveMQ服务端宕机了，消息会丢失吗？
如果服务端采用的是非持久性模式，那么消息会丢失；而如果采用的是持久性模式，消息会持久化在硬盘里，原来的消息还可以再次接收，不会丢失。
